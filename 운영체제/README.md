# 운영체제
## 운영체제 구조
- 컴퓨터 하드웨어와 응용프로그램을 관리
### 사용자 인터페이스 제공
- 쉘(Shell)
    - 사용자가 운영체제 기능과 서비스를 조작할 수 있도록 인터페이스를 제공하는 프로그램
    - 쉘은 터미널환경(CLI)과 GUI환경 두종류로 분류
- 응용프로그램
    - 운영체제가 제공하는 API 라이브러리로 운영체제에게 기능과 서비스를 요청
### 응용프로그램을 위한 인터페이스 제공
- 운영체젝 기능을 사용하기 위한 API or Library 제공
- 시스템 콜
    - 운영체제의 기능을 호출하는 함수
    - 운영체제가 운영체제 각 기능을 사용할 수 있도록 시스템 콜이라는 명령 또는 함수를 제공
    - 각 운영체제가 제공하는 API 내부에는 시스템콜을 호출하는 형태
    - 대부분의 시스템콜은 POSIX API(유닉스계열) 기반


<img src="./Image/관계.PNg"></img>
#### 운영체제를 만든다면?
1. 운영체제의 핵심 기능 개발 (Kernel)
2. 시스템 콜을 개발
3. 각 언어별 API 개발
4. API를 이용해 Shell 프로그램 개발
5. 응용 프로그램 개발

### CPU Protection Rings
- 응용프로그램이 함부로 전체 컴퓨터 시스템을 해치지 못하도록 바지
#### 사용자모드와 커널모드
- 사용자 모드 (user mode): 응용프로그램이 사용
- 커널 모드(kernel mode): 특정 명령어 실행과 원하는 작업 수행을 위한 자원접근을 가능하게 하는 모드. OS가 사용

<img src="./Image/프로텍션링.PNg"></img>
#### 응용프로그램과 운영체제
- 시스템 콜은 커널 모드로 실행
- 커널 모드로 실행하려면 반드시 시스템 콜을 사용해야함
- 시스템 콜은 운영체제가 제공

<img src="./Image/커널영역.PNg"></img>

<hr>

## 프로세스 스케쥴링
### 시분할 시스템
- 응용프로그램이 CPU를 점유하는 시간을 잘게 쪼개어 실행될 수 있도록 하는 시스템
- 다중 사용자 지원을 위해 컴퓨터 응답 시간을 최소화하는 시스템
### 멀티 태스킹
- 단일 CPU에서 여러 응용 프로그램이 동시에 실행되는 것처럼 보이도록 하는 시스템
### 멀티 태스킹과 멀티 프로세싱
- 멀티 태스킹: 단일 CPU
- 멀티 프로세싱: 여러 CPU에서 하나의 프로그램을 병렬로 실행해서 실행속도를 극대화시키는 시스템

<img src="./Image/멀티프로세싱.PNg"></img>

### 멀티 프로그래밍
- CPU 활용도를 극대화하는 스케쥴링 알고리즘

## 프로세스와 스케쥴링의 이해 
### 프로세스 (process) 란?
- 메모리에 올려져서 실행 중인 프로그램
- 코드 이미지(바이너리): 실행 파일
> 프로세스라는 용어는 작업, task, jop이라는 용어와 혼용
- 응용 프로그램 != 프로세스
    - 응용 프로그램은 여러개의 프로세스로 이루어질 수 있음
    - 하나의 응용 프로그램은 여러 개의 프로세스(프로그램)가 상호작용을 하면서 실행될 수도 있음
### 스케쥴링 기본 알고리즘
#### FIFO 스케쥴러
- 가장 간단한 스케쥴러 (배치 처리 시스템)
- FCFS (First Come First Served) 스케쥴러
- 먼저 들어온 프로세스 부터 처리한다.

<img src="./Image/FIFO스케쥴러.PNg"></img>

#### 최단 작업 우선 (SJF) 스케쥴러
- SJF (Shortest Jop First) 스케쥴러
- 프로세스 실행시간이 가장 짧은 프로세스부터 먼저 실행
- 단점: 프로세스의 실행시간을 모두 알아야함
#### 우선순위 기반 스케쥴러
- Priority-Based 스케쥴러
    - 정적 우선순위 기반
        - 프로세스마다 우선순위를 미리 지정
    - 동적 우선순위 기반
        - 스케쥴러가 상황에 따라서 우선순위를 동적으로 변경
#### Round Robin 스케쥴러
- 시분할 시스템 기반

<img src="./Image/라운드로빈.PNg"></img>

### 프로세스 상태와 스케쥴러
#### 프로세스 상태
- running state: 현재 CPU에서 실행 상태
- ready state: CPU에서 실행 가능 상태 (실행 대기 상태)
- block state: 특정 이벤트 발생 대기 상태 (예: 프린팅이 다 되었는지)

<img src="./Image/프로세스상태.PNg"></img>

#### 프로세스 상태 기반 스케쥴링 알고리즘
- 프로세스의 상태에 따라 프로세스를 Queue에 담아 실행가능 상태의 프로세스를 실행해주는 알고리즘 
    - Ready State Queue
    - Running State Queue
    - Block State Queue

#### 선점형과 비선점형 스케쥴러 